## BFG aliases

# quickchanges
alias work='cd /usr/local/release'
alias exdiff='svn diff | grep "^\-\|\+" | grep -v \@\@'

# release master quickchanges
if [[ $HOSTNAME =~ \.qast ]]; then
    alias externals='cd /usr/local/release/svn/configs/externals/trunk; svn up'
    alias manifest='cd /usr/local/release/svn/configs/manifest/dgb/st; svn up'
    alias vhost='cd /usr/local/release/svn/configs/vhosts/branches/releases/st_release; svn up'
elif [[ $HOSTNAME =~ \.(sea|ash) ]]; then
    alias externals='cd /usr/local/release/svn/configs/externals/branches/releases/prod; svn up'
    alias manifest='cd /usr/local/release/svn/configs/manifest/dgb/prod; svn up'
    alias vhost='cd /usr/local/release/svn/configs/vhosts/branches/releases/prod_release; svn up'
fi

# fast query DGB config
function xq {
    xpath -e "//name[text()=\"${3}\"]/..//*" /etc/bfg/envs/${1}/${2}/config.xml 2>/dev/null
}
